<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>飞机大战例子</title>
</head>
<body>
    <script>
    //     一开始这些飞机只能发射普通的子弹，升到第二级时可以发射导弹，升到第三级
    // 时可以发射原子弹
    // 01 --- 飞机类
    // const Plane = function(){};
    // Plane.prototype.fire = function(){
    //     console.log('发送普通子弹')
    // }
    // // 02 --- 导弹类
    // const MissileDecorator = function(plane) {
    //     this.plane = plane
    // }
    // MissileDecorator.prototype.fire = function() {
    //     this.plane.fire()
    //     console.log('发射导弹')
    // }
    // // 03 -- 原子弹类
    // const AtomDecorator = function(plane) {
    //     this.plane = plane
    // }
    // AtomDecorator.prototype.fire = function() {
    //     this.plane.fire()
    //     console.log('发射原子弹')
    // }
    // let plane = new Plane();
    // plane = new MissileDecorator(plane)
    // plane = new AtomDecorator(plane)
    // plane.fire();
    // js --- 装饰者
    var plane = {
        fire: function(){
        console.log( '发射普通子弹' );
        }
    }
    var missileDecorator = function(){
        console.log( '发射导弹' );
    }
    var atomDecorator = function(){
        console.log( '发射原子弹' );
    }
    var fire1 = plane.fire;
    plane.fire = function(){
        fire1();
        missileDecorator();
    }
    var fire2 = plane.fire;
    plane.fire = function(){
        fire2();
        atomDecorator();
    }
    plane.fire();
    </script>
</body>
</html>